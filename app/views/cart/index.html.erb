<h1>ShoppingÂ Cart</h1>

<% if cart.present? %>
  <table class="ml-5">
    <tr>
      <th>Items</th>
      <th>Price</th>
      <th>Quantity</th>
      <th></th>
    </tr>
    <% cart.each do |product| %>
      <tr>
        <td><%= product.product_name %></td>
        <td>$<%= product.price %></td>
        <td><%= session[:shopping_cart][product.id.to_s] %></td>
        <td>
          <div>
            <%= form_with url: cart_index_path, method: :post do %>
              <%= hidden_field_tag(:id, product.id)%>
              <%= button_tag 'âž•'%>
            <% end %>
            <%= link_to 'âž–',cart_path(product.id), method: :patch %>
          </div>
        </td>
        <td>
          <%= link_to 'âŒ', cart_path(product), method: :delete %>
        </td>
      </tr>
    <% end %>
  </table>
<% else %>
  <p>No items in your cart.</p>
<% end %>

<%= form_with url: checkout_create_path, remote: true do %>
  <%= button_tag 'Check Out! ðŸ’³' %>
<% end %>